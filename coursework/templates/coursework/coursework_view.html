{% extends "coursework/layout.html" %}

{% block title %}{{ coursework }}{% endblock %}

{% block body %}
<h1>
  <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-journals"
    viewBox="0 0 16 16">
    <path
      d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2z" />
    <path
      d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0z" />
  </svg>
  {{ coursework }}
</h1>
<table class="table table-dark table-striped table-hover table-borderless">
  <thead>
    <tr>
      <th scope="col">Assignment</th>
      <th scope="col">Created</th>
      <th scope="col">Deadline</th>
      <th scope="col" class="text-center">Status</th>
      <th scope="col" class="text-center">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for assignment in coursework.assignment.all %}
    <tr>
      <td>{{ assignment }}</td>
      <td>{{ assignment.created_on|date:'n/d D' }}</td>
      <td>{{ assignment.deadline|date:'n/d D G:i' }}</td>
      <td class="text-center">
        {% if assignment.status.all %}
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
          class="bi bi-patch-check-fill" viewBox="0 0 16 16">
          <path
            d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z" />
        </svg>
        {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill"
          viewBox="0 0 16 16">
          <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
        </svg>
        {% endif %}
      </td>
      <td class="text-center">
        {% if assignment.status.all %}
        <a href="{% url 'edit_assignment' coursework.id assignment.id %}" class="text-decoration-none fw-bold">
          Edit
        </a>
        {% else %}
        <a href="{% url 'assignment_view' coursework.id assignment.id %}" class="text-decoration-none fw-bold">
          Submit
        </a>
        {% endif %}
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5">No assignment at the moment...</td>
    </tr>
    {% endfor %}
    <tr>
      <td colspan="5" style="text-align:center">
        {% if not user.status == "Student" %}
        <a href="{% url 'create_assignment' coursework.id %}">Create assignment</a>
        {% else %}
        Bla bla bla
        {% endif %}
      </td>
    </tr>
  </tbody>
</table>
{% endblock %}